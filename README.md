# ControlHP
Обсуждение на форуме http://arduino.ru/forum/proekty/kontrol-za-teplovym-nasosom-na-arduino-uno<br>
Устройство рассчета эффективности теплового насоса. <br>
Штатно тепловой насос не может рассчитать  свою эффективность, потребленную и выработанную энергия и т.д. По этому было решено сделать блок на микроконтроллере который будет выдавать "на гора"   качество работы насоса.
Само устройство достаточно примитивно и состоит из нескольких узлов:
1. Теплосчетчик (две шутки - на грунтовый контур и теплые полы) имеет три датчика - датчик расхода (водосчетчик) и два датчика температуры (DS18B20)
2. Узел контроля потребления электроэнергии  использует три датчика:
- определение потребляемого тока (трансформатор тока)
- определение напряжения сети (через трансформатор)
- импульсный вход от электросчетчика  (1000 импульсов 1 кВт/час)  это дублирует первые два датчика.
3. Ардуино  УНО и монохромный графический дисплей (128х64) + кнопка (которая листает экраны).
4. Радио модуль nrf24 для передачи информации на удаленное устройство индикации

Так как это мое первое устройство и я не занимался радио любительством лет 20 пришлось взять УНО.  Использовал готовый бокс, куда запихнул все компоненты. Пришлось купить инструменты, осцилограф и т.д. Все было ранее утеряно -(((
Проблемы при реализации:
- Не надо верить что уно можно запитать от 12 вольт - это очень много стабилизатор при этом нагревается не хило. Пришлось ставить резистор для гашения лишнего напряжения теперь подается 8 вольт,
- Достаточно долго трахался  мучился с датчиками потока. Их характеристики не соответствовали то что было написано в даташите. В конце концов откалибровал и получил вменяемые результаты.
- радиомодуль тоже не сразу заработал но в конце концов и его победил, Обязательно надо вешать емкость по питанию модуля.
- ихмо уно можно использовать только первый раз, в дальнейшем только про мини.
